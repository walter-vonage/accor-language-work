import { VCREvent } from "./contracts/vcrEvent.js";
import { VCR_EVENT_SOURCE_TYPE } from "./enums/vcrEventSourceType.js";
import { VCR_EVENT_TYPE } from "./enums/vcrEventType.js";
var EventFactory = /** @class */ (function () {
    function EventFactory(session) {
        this.session = session;
        this.bridge = session.bridge;
    }
    EventFactory.prototype.createEvent = function (eventName, details) {
        if (eventName == VCR_EVENT_TYPE.SESSION_CREATED) {
            var event = new VCREvent();
            event.event_type = VCR_EVENT_TYPE.SESSION_CREATED;
            event.source_type = VCR_EVENT_SOURCE_TYPE.INSTANCE;
            event.details = details;
            this.setCommonFields(event);
            return event;
        }
        throw this.bridge.createSdkError("Event type not supported: " + eventName);
    };
    EventFactory.prototype.setCommonFields = function (event) {
        event.timestamp = this.session.bridge.isoDate();
        event.id = this.session.bridge.uuid();
        event.source_id = this.session.config.instanceServiceName;
        event.api_account_id = this.session.config.apiAccountId;
        event.api_application_id = this.session.config.apiApplicationId;
        event.session_id = this.session.id;
        event.instance_id = this.session.config.instanceId;
    };
    return EventFactory;
}());
export { EventFactory };
//# sourceMappingURL=eventFactory.js.map