import { NeruEvent } from './neruEvent.js';
import { NeruEventSourceTypes } from './neruEventSourceTypes.js';
import { NeruEventTypes } from './neruEventTypes.js';
var EventFactory = /** @class */ (function () {
    function EventFactory(session) {
        this.session = session;
    }
    EventFactory.prototype.createEvent = function (eventName, details) {
        if (eventName == NeruEventTypes.SESSION_CREATED) {
            var event = new NeruEvent();
            event.event_type = NeruEventTypes.SESSION_CREATED;
            event.source_type = NeruEventSourceTypes.INSTANCE;
            event.details = details;
            this.setCommonFields(event);
            return event;
        }
        throw new Error('Event type not supported: ' + eventName);
    };
    EventFactory.prototype.setCommonFields = function (event) {
        event.timestamp = this.session.bridge.isoDate();
        event.id = this.session.bridge.uuid();
        event.source_id = this.session.config.instanceServiceName;
        event.api_account_id = this.session.config.apiAccountId;
        event.api_application_id = this.session.config.apiApplicationId;
        event.session_id = this.session.id;
        event.instance_id = this.session.config.instanceId;
    };
    return EventFactory;
}());
export { EventFactory };
//# sourceMappingURL=eventFactory.js.map